!function(e,t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):e.bootbox=t(e.jQuery)}(this,function e(t,n){"use strict";function r(e){var t=m[d.locale];return t?t[e]:m.en[e]}function i(e,n,r){e.stopPropagation(),e.preventDefault();var i=t.isFunction(r)&&r(e)===!1;i||n.modal("hide")}function s(e){var t,n=0;for(t in e)n++;return n}function o(e,n){var r=0;t.each(e,function(e,t){n(e,t,r++)})}function u(e){var n,r;if("object"!=typeof e)throw new Error("Please supply an object of options");if(!e.message)throw new Error("Please specify a message");return e=t.extend({},d,e),e.buttons||(e.buttons={}),e.backdrop=e.backdrop?"static":!1,n=e.buttons,r=s(n),o(n,function(e,i,s){if(t.isFunction(i)&&(i=n[e]={callback:i}),"object"!==t.type(i))throw new Error("button with key "+e+" must be an object");i.label||(i.label=e),i.className||(i.className=2>=r&&s===r-1?"btn-primary":"btn-default")}),e}function a(e,t){var n=e.length,r={};if(1>n||n>2)throw new Error("Invalid argument length");return 2===n||"string"==typeof e[0]?(r[t[0]]=e[0],r[t[1]]=e[1]):r=e[0],r}function f(e,n,r){return t.extend(!0,{},e,a(n,r))}function l(e,t,n,r){var i={className:"bootbox-"+e,buttons:c.apply(null,t)};return h(f(i,r,n),t)}function c(){for(var e={},t=0,n=arguments.length;n>t;t++){var i=arguments[t],s=i.toLowerCase(),o=i.toUpperCase();e[s]={label:r(o)}}return e}function h(e,t){var r={};return o(t,function(e,t){r[t]=!0}),o(e.buttons,function(e){if(r[e]===n)throw new Error("button key "+e+" is not allowed (options are "+t.join("\n")+")")}),e}var p={dialog:"<div class='bootbox modal' tabindex='-1' role='dialog'><div class='modal-dialog'><div class='modal-content'><div class='modal-body'><div class='bootbox-body'></div></div></div></div></div>",header:"<div class='modal-header'><h4 class='modal-title'></h4></div>",footer:"<div class='modal-footer'></div>",closeButton:"<button type='button' class='bootbox-close-button close' data-dismiss='modal' aria-hidden='true'>&times;</button>",form:"<form class='bootbox-form'></form>",inputs:{text:"<input class='bootbox-input bootbox-input-text form-control' autocomplete=off type=text />",textarea:"<textarea class='bootbox-input bootbox-input-textarea form-control'></textarea>",email:"<input class='bootbox-input bootbox-input-email form-control' autocomplete='off' type='email' />",select:"<select class='bootbox-input bootbox-input-select form-control'></select>",checkbox:"<div class='checkbox'><label><input class='bootbox-input bootbox-input-checkbox' type='checkbox' /></label></div>",date:"<input class='bootbox-input bootbox-input-date form-control' autocomplete=off type='date' />",time:"<input class='bootbox-input bootbox-input-time form-control' autocomplete=off type='time' />",number:"<input class='bootbox-input bootbox-input-number form-control' autocomplete=off type='number' />",password:"<input class='bootbox-input bootbox-input-password form-control' autocomplete='off' type='password' />"}},d={locale:"en",backdrop:!0,animate:!0,className:null,closeButton:!0,show:!0,container:"body"},v={};v.alert=function(){var e;if(e=l("alert",["ok"],["message","callback"],arguments),e.callback&&!t.isFunction(e.callback))throw new Error("alert requires callback property to be a function when provided");return e.buttons.ok.callback=e.onEscape=function(){return t.isFunction(e.callback)?e.callback():!0},v.dialog(e)},v.confirm=function(){var e;if(e=l("confirm",["cancel","confirm"],["message","callback"],arguments),e.buttons.cancel.callback=e.onEscape=function(){return e.callback(!1)},e.buttons.confirm.callback=function(){return e.callback(!0)},!t.isFunction(e.callback))throw new Error("confirm requires a callback");return v.dialog(e)},v.prompt=function(){var e,r,i,s,u,a,l;s=t(p.form),r={className:"bootbox-prompt",buttons:c("cancel","confirm"),value:"",inputType:"text"},e=h(f(r,arguments,["title","callback"]),["cancel","confirm"]),a=e.show===n?!0:e.show;var d=["date","time","number"],m=document.createElement("input");if(m.setAttribute("type",e.inputType),d[e.inputType]&&(e.inputType=m.type),e.message=s,e.buttons.cancel.callback=e.onEscape=function(){return e.callback(null)},e.buttons.confirm.callback=function(){var n;switch(e.inputType){case"text":case"textarea":case"email":case"select":case"date":case"time":case"number":case"password":n=u.val();break;case"checkbox":var r=u.find("input:checked");n=[],o(r,function(e,r){n.push(t(r).val())})}return e.callback(n)},e.show=!1,!e.title)throw new Error("prompt requires a title");if(!t.isFunction(e.callback))throw new Error("prompt requires a callback");if(!p.inputs[e.inputType])throw new Error("invalid prompt type");switch(u=t(p.inputs[e.inputType]),e.inputType){case"text":case"textarea":case"email":case"date":case"time":case"number":case"password":u.val(e.value);break;case"select":var y={};if(l=e.inputOptions||[],!l.length)throw new Error("prompt with select requires options");o(l,function(e,r){var i=u;if(r.value===n||r.text===n)throw new Error("given options in wrong format");r.group&&(y[r.group]||(y[r.group]=t("<optgroup/>").attr("label",r.group)),i=y[r.group]),i.append("<option value='"+r.value+"'>"+r.text+"</option>")}),o(y,function(e,t){u.append(t)}),u.val(e.value);break;case"checkbox":var w=t.isArray(e.value)?e.value:[e.value];if(l=e.inputOptions||[],!l.length)throw new Error("prompt with checkbox requires options");if(!l[0].value||!l[0].text)throw new Error("given options in wrong format");u=t("<div/>"),o(l,function(n,r){var i=t(p.inputs[e.inputType]);i.find("input").attr("value",r.value),i.find("label").append(r.text),o(w,function(e,t){t===r.value&&i.find("input").prop("checked",!0)}),u.append(i)})}return e.placeholder&&u.attr("placeholder",e.placeholder),e.pattern&&u.attr("pattern",e.pattern),s.append(u),s.on("submit",function(e){e.preventDefault(),i.find(".btn-primary").click()}),i=v.dialog(e),i.off("shown.bs.modal"),i.on("shown.bs.modal",function(){u.focus()}),a===!0&&i.modal("show"),i},v.dialog=function(e){e=u(e);var n=t(p.dialog),r=n.find(".modal-body"),s=e.buttons,a="",f={onEscape:e.onEscape};if(o(s,function(e,t){a+="<button data-bb-handler='"+e+"' type='button' class='btn "+t.className+"'>"+t.label+"</button>",f[e]=t.callback}),r.find(".bootbox-body").html(e.message),e.animate===!0&&n.addClass("fade"),e.className&&n.addClass(e.className),e.title&&r.before(p.header),e.closeButton){var l=t(p.closeButton);e.title?n.find(".modal-header").prepend(l):l.css("margin-top","-10px").prependTo(r)}return e.title&&n.find(".modal-title").html(e.title),a.length&&(r.after(p.footer),n.find(".modal-footer").html(a)),n.on("hidden.bs.modal",function(e){e.target===this&&n.remove()}),n.on("shown.bs.modal",function(){n.find(".btn-primary:first").focus()}),n.on("escape.close.bb",function(e){f.onEscape&&i(e,n,f.onEscape)}),n.on("click",".modal-footer button",function(e){var r=t(this).data("bb-handler");i(e,n,f[r])}),n.on("click",".bootbox-close-button",function(e){i(e,n,f.onEscape)}),n.on("keyup",function(e){27===e.which&&n.trigger("escape.close.bb")}),t(e.container).append(n),n.modal({backdrop:e.backdrop,keyboard:!1,show:!1}),e.show&&n.modal("show"),n},v.setDefaults=function(){var e={};2===arguments.length?e[arguments[0]]=arguments[1]:e=arguments[0],t.extend(d,e)},v.hideAll=function(){t(".bootbox").modal("hide")};var m={br:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Sim"},da:{OK:"OK",CANCEL:"Annuller",CONFIRM:"Accepter"},de:{OK:"OK",CANCEL:"Abbrechen",CONFIRM:"Akzeptieren"},en:{OK:"OK",CANCEL:"Cancel",CONFIRM:"OK"},es:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Aceptar"},fi:{OK:"OK",CANCEL:"Peruuta",CONFIRM:"OK"},fr:{OK:"OK",CANCEL:"Annuler",CONFIRM:"D'accord"},he:{OK:"?????",CANCEL:"?????",CONFIRM:"?????"},it:{OK:"OK",CANCEL:"Annulla",CONFIRM:"Conferma"},lt:{OK:"Gerai",CANCEL:"Atšaukti",CONFIRM:"Patvirtinti"},lv:{OK:"Labi",CANCEL:"Atcelt",CONFIRM:"Apstiprinat"},nl:{OK:"OK",CANCEL:"Annuleren",CONFIRM:"Accepteren"},no:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},pl:{OK:"OK",CANCEL:"Anuluj",CONFIRM:"Potwierdz"},ru:{OK:"OK",CANCEL:"??????",CONFIRM:"?????????"},sv:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},tr:{OK:"Tamam",CANCEL:"Iptal",CONFIRM:"Onayla"},zh_CN:{OK:"OK",CANCEL:"??",CONFIRM:"??"},zh_TW:{OK:"OK",CANCEL:"??",CONFIRM:"??"}};return v.init=function(n){return e(n||t)},v})